webpackJsonp([1],{0:function(e,t,n){e.exports=n(121)},21:function(e,t,n){try{(function(){"use strict";var t=n(65),o=n(64),l={create:function(e){var n={actionType:o.TODO_CREATE,text:e};t.dispatch(n)},updateText:function(e,n){var l={actionType:o.TODO_UPDATE_TEXT,id:e,text:n};t.dispatch(l)},toggleComplete:function(e){var n=e.id,l={actionType:e.complete?o.TODO_UNDO_COMPLETE:o.TODO_COMPLETE,id:n};t.dispatch(l)},toggleCompleteAll:function(){var e={actionType:o.TODO_TOGGLE_COMPLETE_ALL};t.dispatch(e)},destroy:function(e){var n={actionType:o.TODO_DESTROY,id:e};t.dispatch(n)},destroyCompleted:function(){var e={actionType:o.TODO_DESTROY_COMPLETED};t.dispatch(e)}};e.exports=l}).call(this)}finally{}},64:function(e,t,n){try{(function(){"use strict";e.exports={TODO_CREATE:"TODO_CREATE",TODO_UPDATE_TEXT:"TODO_UPDATE_TEXT",TODO_UNDO_COMPLETE:"TODO_UNDO_COMPLETE",TODO_COMPLETE:"TODO_COMPLETE",TODO_TOGGLE_COMPLETE_ALL:"TODO_TOGGLE_COMPLETE_ALL",TODO_DESTROY:"TODO_DESTROY",TODO_DESTROY_COMPLETED:"TODO_DESTROY_COMPLETED"}}).call(this)}finally{}},65:function(e,t,n){try{(function(){"use strict";var t=n(59).Dispatcher;e.exports=new t}).call(this)}finally{}},66:function(e,t,n){try{(function(){"use strict";var t=n(7),o=n(21),l=t.createClass({displayName:"TodoTextInput",getInitialState:function(){return{inputValue:""}},handleInputValueChange:function(e){var t=e.target.value;this.setState({inputValue:t})},handleFormSubmit:function(e){e.preventDefault(),o.create(this.state.inputValue)},render:function(){return t.createElement("form",null,t.createElement("input",{type:"text",value:this.state.inputValue,onChange:this.handleInputValueChange}),t.createElement("input",{type:"submit",value:"提交",onClick:this.handleFormSubmit}))}});e.exports=l}).call(this)}finally{}},121:function(e,t,n){try{(function(){"use strict";var e=n(7),t=n(60),o=n(126);t.render(e.createElement(o,null),document.getElementById("content"))}).call(this)}finally{}},122:function(e,t,n){try{(function(){"use strict";function t(e){var t=(new Date+Math.floor(999999*Math.random())).toString(36);m[t]={id:t,complete:!1,text:e}}function o(e,t){m[e]=d({},m[e],t)}function l(e){for(var t in m)o(t,e)}function i(e){delete m[e]}function a(){for(var e in m)m[e].complete&&i(e)}function r(){E.emit(T)}function c(e){var n=void 0;switch(e.actionType){case p.TODO_CREATE:n=e.text.trim(),""!==n&&(t(n),r());break;case p.TODO_TOGGLE_COMPLETE_ALL:l(E.areAllComplete()?{complete:!1}:{complete:!0}),r();break;case p.TODO_UNDO_COMPLETE:o(e.id,{complete:!1}),r();break;case p.TODO_COMPLETE:o(e.id,{complete:!0}),r();break;case p.TODO_UPDATE_TEXT:n=e.text.trim(),""!==n&&(o(e.id,{text:n}),r());break;case p.TODO_DESTROY:i(e.id),r();break;case p.TODO_DESTROY_COMPLETED:a(),r()}}var s=n(65),u=n(53).EventEmitter,p=n(64),d=n(4),T="change",m={},E=d({},u.prototype,{areAllComplete:function(){for(var e in m)if(!m[e].complete)return!1;return!0},getAll:function(){return m},addChangeListener:function(e){this.on(T,e)},removeChangeListener:function(e){this.removeListener(T,e)}});E.dispatchToken=s.register(c),e.exports=E}).call(this)}finally{}},123:function(e,t,n){try{(function(){"use strict";var t=n(7),o=n(21),l=t.createClass({displayName:"Footer",propTypes:{allTodos:t.PropTypes.object.isRequired},render:function(){var e=this.props.allTodos,n=0;if(e&&(n=Object.keys(e).length),0===n)return null;var o=0;for(var l in e)e[l].complete&&o++;var i=n-o,a=1===i?"item ":"items ";a+="left";var r=void 0;return o&&(r=t.createElement("button",{id:"clear-completed",onClick:this._onClearCompletedClick},"Clear completed (",o,")")),t.createElement("footer",{id:"footer"},t.createElement("span",{id:"todo-count"},t.createElement("strong",null,i)," ",a),r)},_onClearCompletedClick:function(){o.destroyCompleted()}});e.exports=l}).call(this)}finally{}},124:function(e,t,n){try{(function(){"use strict";var t=n(7),o=n(21),l=n(66),i=t.createClass({displayName:"Header",render:function(){return t.createElement("header",{id:"header"},t.createElement("h1",null,"todos test"),t.createElement(l,{id:"new-todo",placeholder:"What needs to be done?",onSave:this._onSave}))},_onSave:function(e){e.trim()&&o.create(e)}});e.exports=i}).call(this)}finally{}},125:function(e,t,n){try{(function(){"use strict";var t=n(7),o=t.PropTypes,l=n(21),i=n(127),a=t.createClass({displayName:"MainSection",propTypes:{allTodos:t.PropTypes.object.isRequired,areAllComplete:o.bool.isRequired},render:function(){if(Object.keys(this.props.allTodos).length<1)return null;var e=this.props.allTodos,n=[];for(var o in e)n.push(t.createElement(i,{key:o,todo:e[o]}));return t.createElement("section",{id:"main"},t.createElement("input",{id:"toggle-all",type:"checkbox",onChange:this._onToggleCompleteAll,checked:this.props.areAllComplete?"checked":""}),t.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),t.createElement("ul",{id:"todo-list"},n))},_onToggleCompleteAll:function(){l.toggleCompleteAll()}});e.exports=a}).call(this)}finally{}},126:function(e,t,n){try{(function(){"use strict";function t(){return{allTodos:r.getAll(),areAllComplete:r.areAllComplete()}}var o=n(7),l=n(124),i=n(123),a=n(125),r=n(122),c=o.createClass({displayName:"TodoApp",getInitialState:function(){return t()},componentDidMount:function(){r.addChangeListener(this._onChange)},componentWillUnmount:function(){r.removeChangeListener(this._onChange)},render:function(){return o.createElement("div",null,o.createElement(l,null),o.createElement(a,{allTodos:this.state.allTodos,areAllComplete:this.state.areAllComplete}),o.createElement(i,{allTodos:this.state.allTodos}))},_onChange:function(){this.setState(t)}});e.exports=c}).call(this)}finally{}},127:function(e,t,n){try{(function(){"use strict";var t=n(7),o=t.PropTypes,l=n(21),i=n(66),a=t.createClass({displayName:"TodoItem",propTypes:{todo:o.object.isRequired},getInitialState:function(){return{isEditing:!1}},render:function(){var e=this.props.todo,n=void 0;return this.state.isEditing&&(n=t.createElement(i,{className:"edit",onSave:this._onSave,value:e.text})),t.createElement("li",{className:"aaa",key:e.id},t.createElement("div",{className:"view"},t.createElement("input",{className:"toggle",type:"checkbox",checked:e.complete,onChange:this._onToggleComplete}),t.createElement("label",{onDoubleClick:this._onDoubleClick},e.text),t.createElement("button",{className:"destroy",onClick:this._onDestroyClick},"delete")),n)},_onToggleComplete:function(){l.toggleComplete(this.props.todo)},_onDoubleClick:function(){this.setState({isEditing:!0})},_onSave:function(){l.updateText(this.props.todo.id,text),this.setState({isEditing:!1})},_onDestroyClick:function(){l.destroy(this.props.todo.id)}});e.exports=a}).call(this)}finally{}}});